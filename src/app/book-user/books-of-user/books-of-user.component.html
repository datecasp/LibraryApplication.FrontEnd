<div class="jumbtron">
  <form #form="ngForm" (submit)="onSubmit(form)" autocomplete="off" class="col-md-5 form">
    <div class="form-group" *ngIf="formData.id == 0 else editTitle">
      <h2 class="text-center text-primary">Select user</h2>
      <a class="text-center">
        <mat-form-field>
          <mat-label>Select user</mat-label>
          <mat-select [(ngModel)]="formData.id" name="id">
            <mat-option *ngFor="let user of users" [value]="user.id" (click)="updateValues(user.id)">
              <i [ngClass]="{'is-invalid': form.controls['title']?.invalid && form.controls['title']?.touched}">{{user.userName}}</i>
            </mat-option>
          </mat-select>
        </mat-form-field>
      </a>
    </div>
    <ng-template #editTitle>
      <h2 class="text-center text-primary" [(ngModel)]="formData.userName" name="formData.userName">Books of {{formData.userName}}</h2>
    </ng-template>
    <input type="hidden" name="id" #id="ngModel" [(ngModel)]="formData.id">
    <div class="form-group">
      <mat-list>
        <mat-list-item *ngFor="let book of books" [(ngModel)]="books" name="books" class="text-center">
          <i>{{book.title}}</i>
        </mat-list-item>
      </mat-list>
    </div>
  </form>
</div>
